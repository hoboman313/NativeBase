{"version":3,"sources":["../../../src/basic/Actionsheet.js"],"names":["ActionSheetContainer","props","state","modalVisible","items","config","callback","Platform","OS","options","filtered","map","item","text","ActionSheetIOS","showActionSheetWithOptions","setState","title","message","destructiveButtonIndex","cancelButtonIndex","containerStyle","textStyle","cancelButtonStyle","titleStyle","touchableBackground","autoHide","duration","console","warn","backgroundColor","flex","justifyContent","minHeight","height","length","maxHeight","Dimensions","get","padding","elevation","marginHorizontal","marginTop","index","String","parseInt","borderColor","marginLeft","icon","color","iconColor","undefined","paddingLeft","actionsheetInstance","_root","showActionSheet","hideActionSheet","Component","propTypes","ViewPropTypes","style","PropTypes","oneOfType","object","number","array","StyledActionSheetContainer","mapPropsToStyleNames"],"mappings":"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","file":"Actionsheet.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  View,\r\n  Modal,\r\n  Platform,\r\n  ActionSheetIOS,\r\n  TouchableOpacity,\r\n  ViewPropTypes,\r\n  FlatList,\r\n  Dimensions\r\n} from 'react-native';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\nimport { Text } from './Text';\r\nimport { Icon } from './Icon';\r\nimport { Left } from './Left';\r\nimport { Right } from './Right';\r\nimport { Body } from './Body';\r\nimport { ListItem } from './ListItem';\r\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\r\n\r\nclass ActionSheetContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalVisible: false,\r\n      items: []\r\n    };\r\n  }\r\n\r\n  static actionsheetInstance;\r\n\r\n  static show(config, callback) {\r\n    this.actionsheetInstance._root.showActionSheet(config, callback);\r\n  }\r\n\r\n  static hide() {\r\n    this.actionsheetInstance._root.hideActionSheet();\r\n  }\r\n\r\n  showActionSheet(config, callback) {\r\n    if (Platform.OS === 'ios') {\r\n      if (typeof config.options[0] === 'object') {\r\n        const options = config.options;\r\n        const filtered = options.map(item => item.text);\r\n        config.options = filtered;\r\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\r\n      } else {\r\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\r\n      }\r\n    } else {\r\n      this.setState({\r\n        items: config.options,\r\n        title: config.title,\r\n        message: config.message,\r\n        destructiveButtonIndex: config.destructiveButtonIndex,\r\n        cancelButtonIndex: config.cancelButtonIndex,\r\n        modalVisible: true,\r\n        containerStyle: config.containerStyle,\r\n        textStyle: config.textStyle,\r\n        cancelButtonStyle: config.cancelButtonStyle,\r\n        titleStyle: config.titleStyle,\r\n        touchableBackground: config.touchableBackground,\r\n        callback\r\n      });\r\n    }\r\n  }\r\n\r\n  hideActionSheet() {\r\n    this.setState({ modalVisible: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.autoHide && this.props.duration) {\r\n      console.warn(\"It's not recommended to set autoHide false with duration\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        animationType=\"fade\"\r\n        transparent\r\n        visible={this.state.modalVisible}\r\n        onRequestClose={() => {\r\n          this.state.callback(this.state.cancelButtonIndex);\r\n          this.setState({ modalVisible: false });\r\n        }}\r\n      >\r\n        <TouchableOpacity\r\n          activeOpacity={1}\r\n          onPress={() => {\r\n            this.state.callback(this.state.cancelButtonIndex);\r\n            this.setState({ modalVisible: false });\r\n          }}\r\n          style={{\r\n            backgroundColor: 'rgba(0,0,0,0.4)',\r\n            flex: 1,\r\n            justifyContent: 'flex-end'\r\n          }}\r\n        >\r\n          <TouchableOpacity\r\n            activeOpacity={1}\r\n            style={{\r\n              backgroundColor: '#fff',\r\n              minHeight: 56,\r\n              height: this.state.length * 80,\r\n              maxHeight: Dimensions.get('window').height / 2,\r\n              padding: 15,\r\n              elevation: 4,\r\n              ...this.state.containerStyle\r\n            }}\r\n          >\r\n            {this.state.title ? (\r\n              <Text style={this.state.titleStyle}>{this.state.title}</Text>\r\n            ) : null}\r\n            <FlatList\r\n              style={{\r\n                marginHorizontal: -15,\r\n                marginTop: this.state.title ? 15 : 0\r\n              }}\r\n              data={this.state.items}\r\n              keyExtractor={(item, index) => String(index)}\r\n              renderItem={({ index, item }) =>\r\n                typeof this.state.items[0] === 'string' ? (\r\n                  <ListItem\r\n                    background={this.state.touchableBackground}\r\n                    onPress={() => {\r\n                      this.state.callback(parseInt(index));\r\n                      this.setState({ modalVisible: false });\r\n                    }}\r\n                    style={{ borderColor: 'transparent', marginLeft: 14 }}\r\n                  >\r\n                    <Text\r\n                      style={[\r\n                        this.state.textStyle,\r\n                        this.state.cancelButtonIndex === index && this.state.cancelButtonStyle\r\n                      ]}\r\n                    >\r\n                      {item}\r\n                    </Text>\r\n                  </ListItem>\r\n                ) : (\r\n                  <ListItem\r\n                    background={this.state.touchableBackground}\r\n                    onPress={() => {\r\n                      this.state.callback(parseInt(index));\r\n                      this.setState({ modalVisible: false });\r\n                    }}\r\n                    style={{\r\n                      borderColor: 'transparent',\r\n                      marginLeft: 14,\r\n                      height: 50\r\n                    }}\r\n                    icon\r\n                  >\r\n                    <Left>\r\n                      <Icon\r\n                        name={item.icon}\r\n                        style={{\r\n                          color: item.iconColor ? item.iconColor : undefined\r\n                        }}\r\n                      />\r\n                    </Left>\r\n                    <Body style={{ borderColor: 'transparent', paddingLeft: 7 }}>\r\n                      <Text\r\n                        style={[\r\n                          this.state.textStyle,\r\n                          this.state.cancelButtonIndex === index && this.state.cancelButtonStyle\r\n                        ]}\r\n                      >\r\n                        {item.text}\r\n                      </Text>\r\n                    </Body>\r\n                    <Right />\r\n                  </ListItem>\r\n                )\r\n              }\r\n            />\r\n          </TouchableOpacity>\r\n        </TouchableOpacity>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nActionSheetContainer.propTypes = {\r\n  ...ViewPropTypes,\r\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array])\r\n};\r\n\r\nconst StyledActionSheetContainer = connectStyle(\r\n  'NativeBase.ActionSheetContainer',\r\n  {},\r\n  mapPropsToStyleNames\r\n)(ActionSheetContainer);\r\n\r\nexport { StyledActionSheetContainer as ActionSheetContainer };\r\n"]}