{"version":3,"sources":["../../../src/basic/Header.js"],"names":["Header","props","state","orientation","val","maxComp","Math","max","variable","deviceWidth","deviceHeight","width","setState","mode","inSet","style","inset","undefined","Inset","InsetValues","portrait","landscape","oldHeight","height","topInset","topPadder","StyleSheet","flatten","padding","paddingTop","androidStatusBarColor","iosBarStyle","transparent","translucent","variables","context","theme","platformStyle","layoutChange","e","nativeEvent","layout","statusBarColor","iosStatusbar","isIphoneX","_root","c","calculateHeight","calculatePadder","Component","contextTypes","PropTypes","object","propTypes","ViewPropTypes","oneOfType","number","array","searchBar","bool","rounded","StyledHeader","mapPropsToStyleNames"],"mappings":"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","file":"Header.js","sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/* eslint-disable no-unneeded-ternary */\r\nimport { get } from 'lodash';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport { View, StatusBar, StyleSheet, ViewPropTypes } from 'react-native';\r\n\r\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\r\nimport variable from '../theme/variables/platform';\r\n\r\nclass Header extends Component {\r\n  static contextTypes = {\r\n    theme: PropTypes.object\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      orientation: 'portrait'\r\n    };\r\n  }\r\n\r\n  layoutChange(val) {\r\n    const maxComp = Math.max(variable.deviceWidth, variable.deviceHeight);\r\n\r\n    if (val.width >= maxComp) this.setState({ orientation: 'landscape' });\r\n    else this.setState({ orientation: 'portrait' });\r\n  }\r\n\r\n  calculateHeight(mode, inSet) {\r\n    const { style } = this.props;\r\n    let inset = null;\r\n\r\n    if (inSet !== undefined) {\r\n      inset = inSet;\r\n    } else {\r\n      inset = variable.Inset;\r\n    }\r\n\r\n    const InsetValues = mode === 'portrait' ? inset.portrait : inset.landscape;\r\n    let oldHeight = null;\r\n\r\n    if (style.height !== undefined) {\r\n      oldHeight = style.height;\r\n    } else if (style[1]) {\r\n      oldHeight = style[1].height ? style[1].height : style[0].height;\r\n    } else {\r\n      oldHeight = style[0].height;\r\n    }\r\n\r\n    const height = oldHeight + InsetValues.topInset;\r\n\r\n    return height;\r\n  }\r\n\r\n  calculatePadder(mode, inSet) {\r\n    let inset = null;\r\n\r\n    if (inSet !== undefined) {\r\n      inset = inSet;\r\n    } else {\r\n      inset = variable.Inset;\r\n    }\r\n\r\n    const InsetValues = mode === 'portrait' ? inset.portrait : inset.landscape;\r\n    let topPadder = null;\r\n    const style = StyleSheet.flatten(this.props.style);\r\n\r\n    if (style.padding !== undefined || style.paddingTop !== undefined) {\r\n      topPadder =\r\n        (style.paddingTop ? style.paddingTop : get(style, 'padding', 0)) +\r\n        InsetValues.topInset;\r\n    } else {\r\n      topPadder = InsetValues.topInset;\r\n    }\r\n\r\n    return topPadder;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      androidStatusBarColor,\r\n      iosBarStyle,\r\n      style,\r\n      transparent,\r\n      translucent\r\n    } = this.props;\r\n    const { orientation } = this.state;\r\n    const variables = this.context.theme\r\n      ? this.context.theme['@@shoutem.theme/themeStyle'].variables\r\n      : variable;\r\n    const platformStyle = variables.platformStyle;\r\n\r\n    return (\r\n      <View onLayout={e => this.layoutChange(e.nativeEvent.layout)}>\r\n        <StatusBar\r\n          backgroundColor={\r\n            androidStatusBarColor\r\n              ? androidStatusBarColor\r\n              : variables.statusBarColor\r\n          }\r\n          barStyle={\r\n            iosBarStyle\r\n              ? iosBarStyle\r\n              : platformStyle === 'material'\r\n              ? 'light-content'\r\n              : variables.iosStatusbar\r\n          }\r\n          translucent={transparent ? true : translucent}\r\n        />\r\n        {variables.isIphoneX ? (\r\n          <View\r\n            ref={c => (this._root = c)}\r\n            {...this.props}\r\n            style={[\r\n              style,\r\n              {\r\n                height: this.calculateHeight(orientation, variables.Inset),\r\n                paddingTop: this.calculatePadder(orientation, variables.Inset)\r\n              }\r\n            ]}\r\n          />\r\n        ) : (\r\n          <View ref={c => (this._root = c)} {...this.props} />\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = {\r\n  ...ViewPropTypes,\r\n  style: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.number,\r\n    PropTypes.array\r\n  ]),\r\n  searchBar: PropTypes.bool,\r\n  rounded: PropTypes.bool\r\n};\r\n\r\nconst StyledHeader = connectStyle(\r\n  'NativeBase.Header',\r\n  {},\r\n  mapPropsToStyleNames\r\n)(Header);\r\nexport { StyledHeader as Header };\r\n"]}